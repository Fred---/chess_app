<% provide(:title, 'Chess Playground') %>
<div id="playground">

  <div class="row">
    <div class="col-md-7" id="board_container">
      <div id="board"></div>
    </div>

    <div class="col-md-2" id="game_info">
      <div class="row">
        <div class="well" id="status"></div>
        <div class="well" id="opponent_info">User2</div>   
        <div class="well" id="pgn_block">
          <p><span id="pgn"></span></p>
        </div>
        <div class="well" id="user_info"><%= @user.name %></div>
        </div>
    </div>

    <div class="col-md-3" id="chat_info">
      <div class="row">
        <div class="well sidebar-nav">
          <h3>Challenges</h3>
          <ul class="nav nav-list" id="challenge-list">
            <li class="nav-header"></li>
          </ul>
        </div>

        <div class="table table-condensed" id="user-list" title="Users">
        </div>

        <div id="chat" class="well" data-uri="<%= request.host %>:<%= request.port %>/websocket">
        </div>

        <div class="form-inline well">
          <fieldset>
            <input type="text" class="input-xsmall" id="message">
            <button id="send" class="btn btn-primary">Send</button>
          </fieldset>
        </div>
      </div>
    </div>
  </div>

<script type="text/javascript">
  window.board = new ChessBoard('board', {
    draggable: true,
    ropOffBoard: 'trash',
    position: 'start',
    pieceTheme: '../images/chesspieces/wikipedia/{piece}.png',
  });
  $(window).resize(board.resize);
  window.user_id = <%= @user.id %>;
  window.user_name = "<%= @user.name %>";
</script>
</div>


