<% provide(:title, 'Chess Playground') %>
<h1>Chess Playground</h1>
<div id="playground">

  <div class="row">
    <div class="span8">
      <div id="board" style="width: 600px"></div>
      <p>Status: <span id="status"></span></p>
      <p>PGN: <span id="pgn"></span></p>
      <p>FEN: <span id="fen"></span></p>
    </div>

    <div class="span4">
      <div id="chat" class="well"
      data-uri="<%= request.host %>:<%= request.port %>/websocket">
      </div>

      <div class="form-inline well">
        <fieldset>
          <input type="text" class="input-xlarge" id="message">
          <button id="send" class="btn btn-primary">Send</button>
        </fieldset>
      </div>
      <div class="well sidebar-nav">
        <h3>Users</h3>
        <ul class="nav nav-list" id="user-list">
          <li class="nav-header"></li>
        </ul>
      </div>
      <div class="well sidebar-nav">
        <h3>Challenges</h3>
        <ul class="nav nav-list" id="challenge-list">
          <li class="nav-header"></li>
        </ul>
      </div>
    </div>
  </div>


    <script type="text/javascript">

        window.board = new ChessBoard('board', {
          draggable: true,
          dropOffBoard: 'trash',
          pieceTheme: '../images/chesspieces/wikipedia/{piece}.png',
          sparePieces: true
        });


        window.user_id = <%= @user.id %>;
        window.user_name = "<%= @user.name %>";
    </script>
</div>

